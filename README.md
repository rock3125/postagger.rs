![postagger-banner](https://github.com/shubham0204/postagger.rs/assets/41076823/5c818699-bf20-4589-a433-16edc5f4b1b1)

# Parts of Speech Tagging - Perceptron Tagger in Rust

[![POSTagger crate](https://img.shields.io/crates/v/postagger.svg)](https://crates.io/crates/postagger)
[![POSTagger documentation](https://docs.rs/postagger/badge.svg)](https://docs.rs/postagger)

> A simple, cross-platform, NLTK-inspired averaged perceptron tagger written in Rust

**Contents**

1. [Usage](#usage)
    1. [Usage in Rust](#usage-in-rust)
    2. [Usage in C](#usage-in-c)
    3. [Usage in Java](#usage-in-java)
2. [Pretrained Model](#pretrained-Model)
3. [Useful External Resources](#useful-external-resources)


## Usage

### Usage in Rust

```rust
use postagger::PerceptronTagger;

fn main() {
    let tagger = PerceptronTagger::new( "tagger/weights.json" , "tagger/classes.txt" , "tagger/tags.json" )  ; 
    let tags = tagger.tag( "the quick brown fox jumps over the lazy dog" ) ;
    for tag in &tags {
        println!( "{} {} {}" , tag.word , tag.tag , tag.conf ) ; 
    }
}
````

### Usage in C

#### Generate C headers and shared library

```
$> cbindgen --lang C --output examples/c/postagger.h
$> cargo build --target=x86_64-unknown-linux-gnu --release
```


```c
#include "postagger.h"
#include <stdio.h>
#include <stdlib.h>

int main( int argc , char** argv ) {
    PerceptronTagger* tagger = tagger_create( "tagger/weights.json" , "tagger/classes.txt" , "tagger/tags.json"  )  ;
    const TagResults* results = tagger_annotate( tagger , "the quick brown fox jumps over the lazy dog" ) ; 
    for( int i = 0 ; i < results -> num_tags ; i++ ) {
        printf( "word=%s , tag=%s , conf=%f \n" , results -> tags[i].word , results -> tags[i].tag , results -> tags[i].conf ) ; 
    }
    tagger_release( tagger ) ;
}
```

### Usage in Java

```java
import java.util.List;
import pos.tagger.POSTagger.POSTag;

public class Main {

    public static void main( String[] args ) {

        /*
         * Replace with the absolute paths of 
         * weights, tags and classes
         * See `tagger` directory at the root of the repository for these files
         */
        POSTagger tagger = new POSTagger(
            "weights.json", 
            "tags.json", 
            "classes.txt"
        ) ; 
        List<POSTag> tags = tagger.tag( "the quick brown fox jumps over the lazy dog" ) ;
        for( POSTag tag : tags ) {
            System.out.println( tag.getWord() + " " + tag.getTag() ) ;
        }
    }

}
```

## Pretrained Model

The corpus stored in the `tagger` directory at the root of the repository is extracted from [`averaged_perceptron_tagger.zip`](https://github.com/nltk/nltk_data/blob/gh-pages/packages/taggers/averaged_perceptron_tagger.zip) from the [`nltk_data`](https://github.com/nltk/nltk_data) repository. The model consists of

1. `weights.json`: contains weights of each feature, as generated by a function similar to `PerceptronTagger::get_features` in `src/perceptron_tagger.rs`
2. `classes.txt`: contains the list of all POS tags that the model predicts
3. `tags.json`: maps words to their pre-determined POS tags (no inference will be made if the incoming word is present in this mapping)

## Useful External Resources

- [`perceptron.py` on NLTK](https://github.com/nltk/nltk/blob/develop/nltk/tag/perceptron.py)
- [A Good Part-of-Speech Tagger in about 200 Lines of Python](https://explosion.ai/blog/part-of-speech-pos-tagger-in-python)
- Reddit Discussion on `postagger.rs`: [`r/rust`](https://www.reddit.com/r/rust/comments/19bt5qs/project_postaggerrs_an_nltkinspired_partsofspeech/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button) and [`r/LanguageTechnology`](https://www.reddit.com/r/LanguageTechnology/comments/1bsry44/project_postaggerrs_an_nltkinspired_partsofspeech/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button)
